[appendix,obligation=normative]

== Functions Summary

[discrete]
=== B.0. Overview

This annex summarizes all the functions defined in GeoSPARQL, providing descriptions of their parameters and return types.

The value `ogc:geomLiteral` indicates any one of the specific geometry serializations datatypes defined in this Specification, for example <<datatype-wktliteral, `wktLiteral`>>.

The geometry subtypes - Polygon, Point, CellList etc. - are the _Simple Features specification_ <<OGCSFACA>> <<ISO19125-1>> or DGGS types, as implemented by the various geometry serialization specifications referenced here. See <<Geometry Serializations>> for the individual specification references.

=== Functions Summary Table

.GeoSPARQL Functions Summary
[cols="1,1,1,1,1",role="smalltext"]
|===
5+| **Simple Features Functions** 
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<simple_features_query_functions, sfcontains>> | 2x ogc:geomLiteral | 1x Polygon, 1x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfcrosses>> | 2x ogc:geomLiteral | 1x Point or LineString, 1 x LineString or Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfdisjoint>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfequals>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfintersects>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfoverlaps>> | 2x ogc:geomLiteral | 2x Point or 2x LineString or 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sftouches>> | 2x ogc:geomLiteral | 2x Geometry but not Point | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<simple_features_query_functions, sfwithin>> | 2x ogc:geomLiteral | 1x Geometry, 1x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
5+| **Egenhofer Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<egenhofer_query_functions, ehcontains>> | 2x ogc:geomLiteral | 1x Polygon, 1x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehcoveredby>> | 2x ogc:geomLiteral | 1x Polygon, 1x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehcovers>> | 2x ogc:geomLiteral | 1x Polygon, 1x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehdisjoint>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehequals>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehmeet>> | 2x ogc:geomLiteral | 2x Geometry but not Point | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehoverlap>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<egenhofer_query_functions, ehinside>> | 2x ogc:geomLiteral | 2x Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
5+| **Region Connection Calculus Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<rcc8_query_functions, rcc8dcc>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8ecc>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8eq>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8ntpp>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8ntppi>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8po>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8tpp>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |
| <<rcc8_query_functions, rcc8tppi>> | 2x ogc:geomLiteral | 2x Polygon | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] |

5+| **Spatial Aggregate Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<func-aggboundingbox, aggboundingbox>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | square Polygon (not DGGS), 

CellList (DGGS)  
| <<func-aggboundingcircle, aggboundingcircle>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | Polygon (not DGGS) 

CellList (DGGS)  
| <<func-aggcentroid, aggcentroid>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | Point (not DGGS),

Cell (DGGS)
| <<func-aggconcavehull, aggconcavehull>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | Polygon (not DGGS),

CellList (DGGS)  
| <<func-aggconvexhull, aggconvexhull>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | Polygon (not DGGS),

CellList (DGGS) 
| <<func-aggunion, aggunion>> | 1 or more ogc:geomLiteral | | ogc:geomLiteral | Polygon (not DGGS),

CellList (DGGS) 
5+| **Non-topological Query Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<func-metricarea, metricarea>> | 1x ogc:geomLiteral | Polygon | http://www.w3.org/2001/XMLSchema#double[xsd:double] |
| <<func-area, area>> | 1x ogc:geomLiteral | Polygon | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-boundary, boundary>> | 1x ogc:geomLiteral | Geometry | ogc:geomLiteral | LineString (not DGGS),

OrderedCellList (DGGS) 
| <<func-buffer, buffer>> | 1x ogc:geomLiteral, 

1x http://www.w3.org/2001/XMLSchema#double[xsd:double], 

1x http://www.w3.org/2001/XMLSchema#anyURI[xsd:anyURI] | any | ogc:geomLiteral | (Multi)Polygon (not DGGS),

CellList (DGGS) 
| <<func-convexhull, convexhull>> | 1x ogc:geomLiteral | Geometry | ogc:geomLiteral | LineString (not DGGS) 
| <<func-coordinatedimension, coordinatedimension>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#integer[xsd:integer] | 
| <<func-difference, difference>> | 2x ogc:geomLiteral | 2x Geometry | ogc:geomLiteral | (Multi)Polygon (not DGGS),

CellList (DGGS) 
| <<func-dimension, dimension>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-metricdistance, metricdistance>> | 2x ogc:geomLiteral, 

1x xsd:anyURI | 2x Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-distance, distance>> | 2x ogc:geomLiteral, 

1x xsd:anyURI | 2x Geometry | http://www.w3.org/2000/01/rdf-schema#Resource[rdfs:Resource] | 
| <<func-envelope, envelope>> | 1x ogc:geomLiteral, 

1x xsd:anyURI | Geometry | ogc:geomLiteral | (Multi)Polygon (not DGGS),

CellList (DGGS) 
| <<func-geometryn, geometryn>> | 1x ogc:geomLiteral | GeometryCollection (not DGGS) | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-geometrytype, geometrytype>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#anyURI[xsd:anyURI] | 
| <<func-getsrid, getsrid>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#anyURI[xsd:anyURI] | 
| <<func-intersection, intersection>> | 2x ogc:geomLiteral | 2x Geometry | ogc:geomLiteral | Polygon (not DGGS),

CellList (DGGS) 
| <<func-is3d, is3d>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] | 
| <<func-isempty, isempty>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] | 
| <<func-ismeasured, ismeasured>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] | 
| <<func-issimple, issimple>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#boolean[xsd:boolean] | 
| <<func-metriclength, metriclength>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-length, length>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2000/01/rdf-schema#Resource[rdfs:Resource] |
| <<func-numgeometries, numgeometries>> | 1x ogc:geomLiteral | Geometry (not DGGS) | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-metricperimeter, metricperimeter>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-perimeter, perimeter>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2000/01/rdf-schema#Resource[rdfs:Resource] |
| <<func-hasspatialdimension, hasspatialdimension>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#integer[xsd:integer] |
| <<func-symdifference, symdifference>> | 2x ogc:geomLiteral | 2x Geometry | ogc:geomLiteral | (Multi)Polygon (not DGGS),

CellList DGGS) 
| <<func-transform, transform>> | 1x ogc:geomLiteral, 1x http://www.w3.org/2001/XMLSchema#anyURI[xsd:anyURI] | Geometry | ogc:geomLiteral | Geometry 
| <<func-union, union>> | 2x ogc:geomLiteral | 2x Geometry | ogc:geomLiteral | Polygon (not DGGS),

CellList (DGGS) 
5+| **Serialization Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<func-asdggs, asdggs>> | 1x ogc:geomLiteral | Geometry | geo:dggsLiteral | 
| <<func-asgeojson, asgeojson>> | 1x ogc:geomLiteral | Geometry | geo:geoJSONLiteral | 
| <<func-asgml, asgml>> | 1x ogc:geomLiteral, 1x  http://www.w3.org/2001/XMLSchema#string[xsd:string] | Geometry | geo:gmlLiteral | 
| <<func-askml, askml>> | 1x ogc:geomLiteral | Geometry | geo:kmlLiteral | 
| <<func-aswkt, aswkt>> | 1x ogc:geomLiteral | Geometry | geo:wktLiteral | 
5+| **Extent Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<func-getsrid, getsrid>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#anyURI[xsd:anyURI] | 
| <<func-maxx, maxx>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-maxy, maxy>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-maxz, maxz>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-minx, minx>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-miny, miny>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
| <<func-minz, minz>> | 1x ogc:geomLiteral | Geometry | http://www.w3.org/2001/XMLSchema#double[xsd:double] | 
5+| **Other Functions**
| *Function* | *Input Datatypes* | *Input Subtypes* | *Output Datatype* | *Output Subtype* 
| <<Common Query Functions, relate>> | 2x ogc:geomLiteral | | http://www.w3.org/2001/XMLSchema#string[xsd:string] |
|===

=== GeoSPARQL to SFA Functions Mapping

The following table indicates which GeoSPARQL non-topological query functions map to Simple Features Access (<<OGCSFACA>> <<ISO19125-1>>) functions and in which GeoSPARQL version the functions are defined.

Where the Simple Features Access function has the same name as the GeoSPARQL function, 'x' is recorded.

.GeoSPARQL To SFA Mappings
[role="smalltext"]
|===
| GeoSPARQL Function | in 1.0 | in 1.1 | SFA

| metricArea | | x | Area
| area | | x | Area
| | | | AsBinary
| asWKT* | x | x | AsText
| boundary | x | x | Boundary
| buffer | x | x | Buffer
| | | | Centroid
| convexHull | x | x | ConvexHull
| coordinateDimension | | x | 
| difference | x | x | Difference
| dimension | | x | Dimension
| metricDistance | | x | Distance
| distance | x | x | Distance
| | | | EndPoint
| envelope | x | x | Envelope
| geometryN | | x | GeometryN
| geometryType | | x | GeometryType
| getSRID | x | x | SRID
| | | | InteriorRingN
| intersection | x | x | Intersection
| is3D | | x | 
| | | | IsClosed
| isEmpty | | x | IsEmpty
| isMeasured | | x | 
| | | | IsRing
| isSimple | | x | IsSimple
| metricLength | | x | Length
| length | | x | Length
| maxX | | x | 
| maxY | | x | 
| maxZ | | x | 
| minX | | x | 
| minY | | x | 
| minZ | | x | 
| numGeometries | | x | NumGeometries 
| | | | NumInteriorRing
| | | | NumPoints
| perimeterLength | | x | 
| perimeter | | x | 
| | | | PointN
| | | | PointOnSurface
| hasSpatialDimension | | x |
| | | | StartPoint
| symDifference | x | x | SymDifference
| transform | | x | 
| union | x | x | Union
| | | | X
| | | | Y
|===

\* GeoSPARQL's `asWKT` is only a partial implementation of `asText` since `asWKT` only returns WKT, not textual geometry literal data in general.
